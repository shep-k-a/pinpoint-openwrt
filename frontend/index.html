<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PinPoint - –¢–æ—á–µ—á–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è</title>
    <link rel="icon" href="/assets/logo.svg" type="image/svg+xml">
    <link rel="stylesheet" href="/css/style.css?v=3">
    <style>
        /* Hide content until auth is verified */
        body.auth-pending { visibility: hidden; }
        body.auth-pending * { visibility: hidden; }
    </style>
</head>
<body class="auth-pending">
    <!-- Sidebar Menu -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-logo">
                <img src="/assets/logo.svg" alt="PinPoint" class="logo-img">
                <div class="logo-text">
                    <span class="logo-title">PinPoint</span>
                    <span class="logo-subtitle">OpenWRT</span>
                </div>
            </div>
        </div>
        
        <nav class="sidebar-nav">
            <a href="#dashboard" class="nav-item active" data-tab="dashboard">
                <span class="nav-icon">‚óâ</span>
                <span class="nav-label">–ì–ª–∞–≤–Ω–∞—è</span>
            </a>
            <a href="#services" class="nav-item" data-tab="services">
                <span class="nav-icon">‚óé</span>
                <span class="nav-label">–°–µ—Ä–≤–∏—Å—ã</span>
            </a>
            <a href="#devices" class="nav-item" data-tab="devices">
                <span class="nav-icon">‚ñ£</span>
                <span class="nav-label">–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</span>
            </a>
            <a href="#domains" class="nav-item" data-tab="domains">
                <span class="nav-icon">‚â°</span>
                <span class="nav-label">–ü—Ä–∞–≤–∏–ª–∞</span>
            </a>
            <a href="#tunnels" class="nav-item" data-tab="tunnels">
                <span class="nav-icon">‚óà</span>
                <span class="nav-label">–¢—É–Ω–Ω–µ–ª–∏</span>
            </a>
            <a href="#settings" class="nav-item" data-tab="settings">
                <span class="nav-icon">‚óã</span>
                <span class="nav-label">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
            </a>
            <a href="#help" class="nav-item" data-tab="help">
                <span class="nav-icon">?</span>
                <span class="nav-label">–°–ø—Ä–∞–≤–∫–∞</span>
            </a>
        </nav>
        
        <div class="sidebar-footer">
            <div class="sidebar-user" id="sidebar-user">
                <span class="user-icon">‚óØ</span>
                <span class="user-name" id="current-user-name">admin</span>
            </div>
            <div class="sidebar-footer-buttons">
                <button class="theme-toggle-sidebar" id="theme-toggle-sidebar" onclick="toggleThemeQuick()" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">
                    <span id="theme-icon-sidebar">‚óê</span>
                </button>
                <button class="logout-btn" onclick="logout()" title="–í—ã–π—Ç–∏">
                    <span>‚èª</span>
                </button>
            </div>
        </div>
    </aside>
    
    <!-- Overlay for mobile -->
    <div class="sidebar-overlay" id="sidebar-overlay" onclick="toggleSidebar()"></div>
    
    <!-- Main Content -->
    <div class="main-content">
        <!-- Top Bar (mobile) -->
        <div class="top-bar">
            <button class="burger-menu" id="burger-menu" onclick="toggleSidebar()">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <h1 class="top-bar-title">PinPoint</h1>
            <button class="theme-toggle-mobile" onclick="toggleThemeQuick()" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">
                üåô
            </button>
        </div>
        
        <div class="container">

        <!-- Dashboard Tab -->
        <section id="dashboard" class="tab-content active">
            <div class="section-header">
                <h2>–ì–ª–∞–≤–Ω–∞—è</h2>
                <div class="auto-refresh-indicator">
                    <span class="pulse-dot"></span>
                    <span class="refresh-text">–ê–≤—Ç–æ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ</span>
                    <span class="last-update" id="dashboard-last-update"></span>
                </div>
            </div>
            
            <div class="dashboard-layout">
                <!-- Row 1: Status + Health -->
                <div class="dashboard-row">
                    <div class="status-card" id="status-card">
                        <div class="status-main">
                            <div class="status-indicator" id="status-indicator"></div>
                            <div class="status-text">
                                <h3>VPN –¢—É–Ω–Ω–µ–ª—å</h3>
                                <p id="status-message">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
                            </div>
                        </div>
                        <div class="status-stats">
                            <div class="status-stat">
                                <span class="status-stat-icon">‚ñ§</span>
                                <div class="status-stat-info">
                                    <span class="status-stat-value" id="stat-packets">-</span>
                                    <span class="status-stat-label">–ø–∞–∫–µ—Ç–æ–≤</span>
                                </div>
                            </div>
                            <div class="status-stat">
                                <span class="status-stat-icon">‚Üï</span>
                                <div class="status-stat-info">
                                    <span class="status-stat-value" id="stat-bytes">-</span>
                                    <span class="status-stat-label">–¥–∞–Ω–Ω—ã—Ö</span>
                                </div>
                            </div>
                            <div class="status-stat">
                                <span class="status-stat-icon">‚äï</span>
                                <div class="status-stat-info">
                                    <span class="status-stat-value" id="stat-networks">-</span>
                                    <span class="status-stat-label">—Å–µ—Ç–µ–π</span>
                                </div>
                            </div>
                            <div class="status-stat">
                                <span class="status-stat-icon">#</span>
                                <div class="status-stat-info">
                                    <span class="status-stat-value" id="stat-ips">-</span>
                                    <span class="status-stat-label">IP –∞–¥—Ä–µ—Å–æ–≤</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Service Control Buttons -->
                        <div class="service-control-inline">
                            <button class="btn-service btn-start" onclick="startAllServices()" title="–ó–∞–ø—É—Å—Ç–∏—Ç—å">
                                <span>‚ñ∂</span>
                            </button>
                            <button class="btn-service btn-stop" onclick="stopAllServices()" title="–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å">
                                <span>‚ñ†</span>
                            </button>
                            <button class="btn-service btn-restart" onclick="restartAllServices()" title="–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å">
                                <span>‚Üª</span>
                            </button>
                            <button class="btn-service btn-logs" onclick="showLogsModal()" title="–õ–æ–≥–∏">
                                <span>‚â°</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="card health-card-compact">
                        <div class="health-grid-compact" id="health-grid">
                            <!-- Health items -->
                        </div>
                    </div>
                </div>
                
                <!-- Row 2: System Resources -->
                <div class="dashboard-row resources-row">
                    <!-- Router Load -->
                    <div class="card resource-card">
                        <div class="resource-header">
                            <span class="resource-icon">‚ñ¢</span>
                            <span class="resource-title">–†–æ—É—Ç–µ—Ä</span>
                            <span class="resource-uptime" id="uptime-value">‚Äî</span>
                        </div>
                        <div class="resource-bars">
                            <div class="resource-item">
                                <span class="resource-label">CPU</span>
                                <div class="resource-bar-wrap">
                                    <div class="resource-bar">
                                        <div class="resource-bar-fill" id="cpu-bar" style="width: 0%"></div>
                                    </div>
                                    <span class="resource-value" id="cpu-value">‚Äî</span>
                                </div>
                            </div>
                            <div class="resource-item">
                                <span class="resource-label">RAM</span>
                                <div class="resource-bar-wrap">
                                    <div class="resource-bar">
                                        <div class="resource-bar-fill ram" id="ram-bar" style="width: 0%"></div>
                                    </div>
                                    <span class="resource-value" id="ram-value">‚Äî</span>
                                </div>
                            </div>
                            <div class="resource-item">
                                <span class="resource-label">–î–∏—Å–∫</span>
                                <div class="resource-bar-wrap">
                                    <div class="resource-bar">
                                        <div class="resource-bar-fill disk" id="disk-bar" style="width: 0%"></div>
                                    </div>
                                    <span class="resource-value" id="disk-value">‚Äî</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Pinpoint Service Load -->
                    <div class="card resource-card">
                        <div class="resource-header">
                            <span class="resource-icon">‚óÜ</span>
                            <span class="resource-title">PinPoint</span>
                            <span class="resource-badge" id="pinpoint-status">–∞–∫—Ç–∏–≤–µ–Ω</span>
                        </div>
                        <div class="resource-bars">
                            <div class="resource-item">
                                <span class="resource-label">CPU</span>
                                <div class="resource-bar-wrap">
                                    <div class="resource-bar">
                                        <div class="resource-bar-fill pinpoint" id="pinpoint-cpu-bar" style="width: 0%"></div>
                                    </div>
                                    <span class="resource-value" id="pinpoint-cpu-value">‚Äî</span>
                                </div>
                            </div>
                            <div class="resource-item">
                                <span class="resource-label">RAM</span>
                                <div class="resource-bar-wrap">
                                    <div class="resource-bar">
                                        <div class="resource-bar-fill pinpoint" id="pinpoint-ram-bar" style="width: 0%"></div>
                                    </div>
                                    <span class="resource-value" id="pinpoint-ram-value">‚Äî</span>
                                </div>
                            </div>
                            <div class="resource-item">
                                <span class="resource-label">–°–æ–µ–¥–∏–Ω–µ–Ω–∏–π</span>
                                <div class="resource-bar-wrap">
                                    <span class="resource-value-large" id="pinpoint-connections">‚Äî</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Row 3: Charts -->
                <div class="dashboard-row charts-row">
                    <!-- Traffic Chart -->
                    <div class="card chart-card">
                        <div class="card-header">
                            <h3>‚Üï –¢—Ä–∞—Ñ–∏–∫ —á–µ—Ä–µ–∑ —Ç—É–Ω–Ω–µ–ª—å</h3>
                            <div class="chart-header-right">
                                <span class="chart-period-total" id="traffic-period-total"></span>
                                <div class="chart-period-selector">
                                    <button class="period-btn active" data-period="24h" onclick="changeTrafficPeriod('24h')">24—á</button>
                                    <button class="period-btn" data-period="7d" onclick="changeTrafficPeriod('7d')">7–¥</button>
                                    <button class="period-btn" data-period="30d" onclick="changeTrafficPeriod('30d')">30–¥</button>
                                </div>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="traffic-chart"></canvas>
                        </div>
                    </div>
                    
                    <!-- CPU/RAM Chart -->
                    <div class="card chart-card">
                        <div class="card-header">
                            <h3 id="system-chart-title">‚ñ¢ –†–æ—É—Ç–µ—Ä</h3>
                            <div class="chart-controls">
                                <div class="chart-mode-toggle">
                                    <button class="chart-mode-btn active" data-mode="router" onclick="toggleSystemChartMode('router')">–†–æ—É—Ç–µ—Ä</button>
                                    <button class="chart-mode-btn" data-mode="pinpoint" onclick="toggleSystemChartMode('pinpoint')">PinPoint</button>
                                </div>
                                <div class="chart-period-selector">
                                    <button class="period-btn active" data-period="24h" onclick="changeSystemPeriod('24h')">24—á</button>
                                    <button class="period-btn" data-period="7d" onclick="changeSystemPeriod('7d')">7–¥</button>
                                    <button class="period-btn" data-period="30d" onclick="changeSystemPeriod('30d')">30–¥</button>
                                </div>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="system-chart"></canvas>
                        </div>
                    </div>
                </div>
                
                <!-- Row 4: Devices -->
                <div class="dashboard-row">
                    <div class="card devices-card" style="grid-column: span 2;">
                        <h3>‚ñ£ –¢–æ–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤</h3>
                        <div class="top-devices-list" id="top-devices-list">
                            <div class="empty-state">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                        </div>
                    </div>
                </div>
                
                <!-- Row 4: Test + Connections + Update -->
                <div class="dashboard-row triple-row">
                    <div class="card">
                        <h3>üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞</h3>
                        <div class="quick-test-form">
                            <input type="text" id="test-domain" placeholder="youtube.com" />
                            <button class="btn btn-sm btn-primary" onclick="testDomain()">–¢–µ—Å—Ç</button>
                        </div>
                        <div class="test-result-compact" id="test-result"></div>
                    </div>
                    
                    <div class="card">
                        <h3>üîó –ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è</h3>
                        <div class="connections-compact" id="connections-list">
                            <div class="empty-state">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                        </div>
                    </div>
                    
                    <div class="card update-card">
                        <h3>‚Üª –°–ø–∏—Å–∫–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏</h3>
                        <p class="card-desc">IP-–∞–¥—Ä–µ—Å–∞ –∏ –¥–æ–º–µ–Ω—ã —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ VPN</p>
                        <div class="update-stats-compact">
                            <div class="update-stat-item">
                                <span class="update-stat-val" id="stat-services">-</span>
                                <span class="update-stat-lbl">—Å–µ—Ä–≤–∏—Å–æ–≤</span>
                            </div>
                            <div class="update-stat-item">
                                <span class="update-stat-val" id="stat-cidrs">-</span>
                                <span class="update-stat-lbl">IP</span>
                            </div>
                            <div class="update-stat-item">
                                <span class="update-stat-val" id="stat-domains">-</span>
                                <span class="update-stat-lbl">–¥–æ–º–µ–Ω–æ–≤</span>
                            </div>
                        </div>
                        <div class="update-footer">
                            <span id="last-update-time">‚Äî</span>
                            <button class="btn btn-xs btn-primary" onclick="updateAllLists()">–û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–∫–∏</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Services Tab -->
        <section id="services" class="tab-content">
            <h2>–°–µ—Ä–≤–∏—Å—ã</h2>
            <p class="section-desc">–í–∫–ª—é—á–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã, —Ç—Ä–∞—Ñ–∏–∫ –∫–æ—Ç–æ—Ä—ã—Ö –Ω—É–∂–Ω–æ –Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å —á–µ—Ä–µ–∑ —Ç—É–Ω–Ω–µ–ª—å</p>
            
            <div class="services-toolbar">
                <div class="search-box">
                    <input type="text" id="service-search" placeholder="–ü–æ–∏—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤..." oninput="filterServices()">
                </div>
                <div class="category-filter">
                    <select id="category-filter" onchange="filterServices()">
                        <option value="">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                    </select>
                </div>
                <div class="enabled-filter">
                    <label>
                        <input type="checkbox" id="enabled-only" onchange="filterServices()">
                        –¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ
                    </label>
                </div>
            </div>
            
            <div class="services-grid" id="services-grid">
                <!-- Services will be loaded here -->
            </div>
            
            <div class="pagination" id="services-pagination">
                <!-- Pagination will be rendered here -->
            </div>
        </section>

        <!-- Service Details Modal -->
        <div class="modal" id="service-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modal-service-name">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–∏—Å–∞</h3>
                    <button class="modal-close" onclick="closeServiceModal()">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="modal-section">
                        <h4>–ò—Å—Ç–æ—á–Ω–∏–∫–∏ IP</h4>
                        <div id="modal-sources" class="sources-list"></div>
                        <div class="add-form">
                            <input type="text" id="new-source-url" placeholder="https://..." />
                            <button class="btn btn-sm btn-primary" onclick="addSource()">–î–æ–±–∞–≤–∏—Ç—å</button>
                        </div>
                    </div>
                    
                    <div class="modal-section">
                        <h4>–î–æ–º–µ–Ω—ã</h4>
                        <div id="modal-domains" class="tags-list"></div>
                        <div class="add-form">
                            <input type="text" id="new-service-domain" placeholder="example.com" />
                            <button class="btn btn-sm btn-primary" onclick="addServiceDomain()">–î–æ–±–∞–≤–∏—Ç—å</button>
                        </div>
                    </div>
                    
                    <div class="modal-section">
                        <h4>IP –∞–¥—Ä–µ—Å–∞ / CIDR</h4>
                        <div id="modal-ips" class="tags-list"></div>
                        <div class="add-form">
                            <input type="text" id="new-service-ip" placeholder="1.2.3.4/24" />
                            <button class="btn btn-sm btn-primary" onclick="addServiceIp()">–î–æ–±–∞–≤–∏—Ç—å</button>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" onclick="closeServiceModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
                    <button class="btn btn-primary" onclick="refreshCurrentService()">–û–±–Ω–æ–≤–∏—Ç—å –∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤</button>
                </div>
            </div>
        </div>

        <!-- Devices Tab -->
        <section id="devices" class="tab-content">
            <h2>–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</h2>
            <p class="section-desc">–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–∏—Å–æ–≤. –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞.</p>
            
            <div class="devices-toolbar">
                <div class="devices-search">
                    <input type="text" id="device-search" placeholder="–ü–æ–∏—Å–∫..." oninput="filterDevicesList()">
                </div>
                <div class="devices-filter">
                    <label><input type="checkbox" id="show-custom-only" onchange="filterDevicesList()"> –¢–æ–ª—å–∫–æ —Å –æ—Å–æ–±—ã–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏</label>
                </div>
                <button class="btn btn-secondary btn-sm" onclick="refreshAllDevices()">–û–±–Ω–æ–≤–∏—Ç—å</button>
            </div>
            
            <div class="devices-grid" id="devices-grid">
                <!-- Devices will be loaded here -->
            </div>
        </section>

        <!-- Device Modal -->
        <div class="modal" id="device-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modal-device-name">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</h3>
                    <button class="modal-close" onclick="closeDeviceModal()">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="modal-section">
                        <div class="form-group">
                            <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                            <input type="text" id="edit-device-name" />
                        </div>
                        <div class="form-group">
                            <label>IP –∞–¥—Ä–µ—Å</label>
                            <input type="text" id="edit-device-ip" readonly class="readonly" />
                        </div>
                    </div>
                    
                    <div class="modal-section">
                        <h4>–ü—Ä–∞–≤–∏–ª–æ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏</h4>
                        <div class="mode-options">
                            <label class="mode-option">
                                <input type="radio" name="device-mode" value="default" onchange="toggleDeviceServices()">
                                <div class="mode-option-content">
                                    <span class="mode-icon">‚óâ</span>
                                    <div>
                                        <div class="mode-title">–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</div>
                                        <div class="mode-desc">–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–±—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –∏–∑ –≤–∫–ª–∞–¥–∫–∏ "–°–µ—Ä–≤–∏—Å—ã"</div>
                                    </div>
                                </div>
                            </label>
                            <label class="mode-option">
                                <input type="radio" name="device-mode" value="vpn_all" onchange="toggleDeviceServices()">
                                <div class="mode-option-content">
                                    <span class="mode-icon">‚óé</span>
                                    <div>
                                        <div class="mode-title">–í–µ—Å—å —Ç—Ä–∞—Ñ–∏–∫ —á–µ—Ä–µ–∑ VPN</div>
                                        <div class="mode-desc">–ê–±—Å–æ–ª—é—Ç–Ω–æ –≤–µ—Å—å —Ç—Ä–∞—Ñ–∏–∫ –∏–¥—ë—Ç —á–µ—Ä–µ–∑ —Ç—É–Ω–Ω–µ–ª—å</div>
                                    </div>
                                </div>
                            </label>
                            <label class="mode-option">
                                <input type="radio" name="device-mode" value="direct_all" onchange="toggleDeviceServices()">
                                <div class="mode-option-content">
                                    <span class="mode-icon">üöÄ</span>
                                    <div>
                                        <div class="mode-title">–í–µ—Å—å —Ç—Ä–∞—Ñ–∏–∫ –Ω–∞–ø—Ä—è–º—É—é</div>
                                        <div class="mode-desc">VPN –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è</div>
                                    </div>
                                </div>
                            </label>
                            <label class="mode-option">
                                <input type="radio" name="device-mode" value="custom" onchange="toggleDeviceServices()">
                                <div class="mode-option-content">
                                    <span class="mode-icon">‚óã</span>
                                    <div>
                                        <div class="mode-title">–°–≤–æ–π –Ω–∞–±–æ—Ä —Å–µ—Ä–≤–∏—Å–æ–≤</div>
                                        <div class="mode-desc">–í—ã–±—Ä–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è VPN</div>
                                    </div>
                                </div>
                            </label>
                        </div>
                    </div>
                    
                    <div class="modal-section" id="device-services-section" style="display: none;">
                        <h4>–°–µ—Ä–≤–∏—Å—ã —á–µ—Ä–µ–∑ VPN</h4>
                        <div class="device-services-toolbar">
                            <input type="text" id="device-service-search" placeholder="–ü–æ–∏—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤..." oninput="filterDeviceServicesGrid()">
                            <select id="device-service-category" onchange="filterDeviceServicesGrid()">
                                <option value="">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                            </select>
                        </div>
                        <div id="device-services-grid" class="device-services-grid">
                            <!-- Services checkboxes will be loaded here -->
                        </div>
                    </div>
                    
                    <div class="modal-section" id="device-custom-section" style="display: none;">
                        <h4>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</h4>
                        <div class="device-custom-rules">
                            <div class="device-custom-block">
                                <label>–î–æ–º–µ–Ω—ã</label>
                                <div class="device-custom-tags" id="device-custom-domains"></div>
                                <div class="add-form-inline">
                                    <input type="text" id="new-device-domain" placeholder="example.com">
                                    <button class="btn btn-sm btn-primary" onclick="addDeviceCustomDomain()">+</button>
                                </div>
                            </div>
                            <div class="device-custom-block">
                                <label>IP / CIDR</label>
                                <div class="device-custom-tags" id="device-custom-ips"></div>
                                <div class="add-form-inline">
                                    <input type="text" id="new-device-ip" placeholder="1.2.3.4/24">
                                    <button class="btn btn-sm btn-primary" onclick="addDeviceCustomIp()">+</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-danger" onclick="resetDeviceToDefault()">–°–±—Ä–æ—Å–∏—Ç—å</button>
                    <button class="btn btn-secondary" onclick="closeDeviceModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button class="btn btn-primary" onclick="saveDevice()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </div>
        </div>

        <!-- Custom Services Tab -->
        <section id="domains" class="tab-content">
            <div class="section-header-row">
                <div>
                    <h2>–ú–æ–∏ —Å–µ—Ä–≤–∏—Å—ã</h2>
                    <p class="section-desc">–°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Å–≤–æ–∏ —Å–µ—Ä–≤–∏—Å—ã —Å –¥–æ–º–µ–Ω–∞–º–∏ –∏ IP –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ —Ç—É–Ω–Ω–µ–ª—å</p>
                </div>
                <button class="btn btn-primary" onclick="openCreateCustomServiceModal()">
                    ‚ûï –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å
                </button>
            </div>
            
            <div class="custom-services-grid" id="custom-services-grid">
                <!-- Custom services will be loaded here -->
                <div class="empty-state">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
            </div>
        </section>
        
        <!-- Custom Service Modal -->
        <div class="modal" id="custom-service-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="custom-service-modal-title">–ù–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å</h3>
                    <button class="modal-close" onclick="closeCustomServiceModal()">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                        <input type="text" id="custom-service-name" placeholder="–ú–æ–π —Å–µ—Ä–≤–∏—Å">
                    </div>
                    <div class="form-group">
                        <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
                        <input type="text" id="custom-service-description" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)">
                    </div>
                    
                    <div class="form-group">
                        <label>–î–æ–º–µ–Ω—ã</label>
                        <div class="tags-container" id="custom-service-domains"></div>
                        <div class="add-form-inline">
                            <input type="text" id="new-custom-service-domain" placeholder="example.com" onkeydown="if(event.key==='Enter'){addCustomServiceDomain(); event.preventDefault();}">
                            <button class="btn btn-sm btn-primary" onclick="addCustomServiceDomain()">+</button>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>IP / CIDR</label>
                        <div class="tags-container" id="custom-service-ips"></div>
                        <div class="add-form-inline">
                            <input type="text" id="new-custom-service-ip" placeholder="1.2.3.4 –∏–ª–∏ 10.0.0.0/24" onkeydown="if(event.key==='Enter'){addCustomServiceIp(); event.preventDefault();}">
                            <button class="btn btn-sm btn-primary" onclick="addCustomServiceIp()">+</button>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" onclick="closeCustomServiceModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button class="btn btn-danger" id="delete-custom-service-btn" style="display: none;" onclick="deleteCurrentCustomService()">–£–¥–∞–ª–∏—Ç—å</button>
                    <button class="btn btn-primary" onclick="saveCustomService()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </div>
        </div>


        <!-- Tunnels Tab -->
        <section id="tunnels" class="tab-content">
            <!-- Header with status -->
            <div class="tunnels-header">
                <div class="tunnels-header-left">
                    <h2>VPN –°–µ—Ä–≤–µ—Ä—ã</h2>
                    <div class="vpn-status-badge" id="vpn-status-badge">
                        <span class="status-dot"></span>
                        <span id="vpn-status-text">–ü—Ä–æ–≤–µ—Ä–∫–∞...</span>
                    </div>
                </div>
                <div class="tunnels-header-actions">
                    <button class="btn btn-sm" onclick="testAllTunnels()" title="–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–µ—Ä—ã">‚ö° –¢–µ—Å—Ç</button>
                    <button class="btn btn-sm" onclick="toggleImportPanel()" id="btn-toggle-import">+ –î–æ–±–∞–≤–∏—Ç—å</button>
                </div>
            </div>
            
            <!-- Collapsible Import Panel -->
            <div class="import-panel" id="import-panel" style="display: none;">
                <div class="import-panel-tabs">
                    <button class="import-panel-tab active" onclick="switchImportTab('link')" data-tab="link">–°—Å—ã–ª–∫–∞</button>
                    <button class="import-panel-tab" onclick="switchImportTab('subscription')" data-tab="subscription">–ü–æ–¥–ø–∏—Å–∫–∞</button>
                    <button class="import-panel-close" onclick="toggleImportPanel()">√ó</button>
                </div>
                <div id="import-link-form" class="import-panel-content">
                    <textarea id="import-link-input" placeholder="vless://, vmess://, ss://, trojan://, hysteria2://&#10;–ú–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Å—ã–ª–æ–∫" rows="3"></textarea>
                    <button class="btn btn-primary btn-block" onclick="importTunnelLinks()">–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                </div>
                <div id="import-subscription-form" class="import-panel-content" style="display: none;">
                    <input type="text" id="sub-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: –ú–æ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä)">
                    <input type="text" id="sub-url" placeholder="URL –ø–æ–¥–ø–∏—Å–∫–∏">
                    <div class="sub-options-row">
                        <select id="sub-format">
                            <option value="auto">–§–æ—Ä–º–∞—Ç: –ê–≤—Ç–æ</option>
                            <option value="base64">Base64</option>
                            <option value="clash">Clash YAML</option>
                            <option value="singbox">Sing-box JSON</option>
                        </select>
                        <select id="sub-interval">
                            <option value="6">–û–±–Ω–æ–≤–ª—è—Ç—å: 6—á</option>
                            <option value="12">12—á</option>
                            <option value="24" selected>24—á</option>
                            <option value="48">48—á</option>
                            <option value="168">7 –¥–Ω–µ–π</option>
                        </select>
                    </div>
                    <label class="checkbox-row">
                        <input type="checkbox" id="sub-auto-update" checked>
                        <span>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—Ç—å —Å–µ—Ä–≤–µ—Ä—ã</span>
                    </label>
                    <button class="btn btn-primary btn-block" onclick="addSubscription()">–î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É</button>
                </div>
            </div>
            
            <!-- Active Server Selection -->
            <div class="active-server-bar" id="active-server-bar">
                <div class="active-server-info">
                    <span class="active-server-label">–ê–∫—Ç–∏–≤–Ω—ã–π —Å–µ—Ä–≤–µ—Ä:</span>
                    <select id="active-outbound-select">
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä...</option>
                    </select>
                </div>
                <button class="btn btn-primary" onclick="applyTunnelConfig()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
            </div>
            
            <!-- Subscriptions Section -->
            <div class="subs-section" id="subscriptions-section" style="display: none;">
                <div class="subs-header">
                    <span class="subs-title">–ü–æ–¥–ø–∏—Å–∫–∏</span>
                </div>
                <div class="subs-list" id="subscriptions-list"></div>
            </div>
            
            <!-- Groups Section -->
            <div class="groups-section" id="tunnel-groups-section" style="display: none;">
                <div class="groups-header">
                    <span class="groups-title">–ì—Ä—É–ø–ø—ã</span>
                    <button class="btn btn-sm" onclick="openCreateGroupModal()">+ –ì—Ä—É–ø–ø–∞</button>
                </div>
                <div class="groups-list" id="tunnel-groups-list"></div>
            </div>
            
            <!-- Servers List -->
            <div class="servers-section">
                <div class="servers-list-header">
                    <span class="servers-title">–°–µ—Ä–≤–µ—Ä—ã <span class="servers-count" id="servers-count">0</span></span>
                    <button class="btn btn-sm" onclick="openCreateTunnelModal()">+ –í—Ä—É—á–Ω—É—é</button>
                </div>
                <div class="servers-list" id="tunnels-list">
                    <!-- Servers will be loaded here -->
                </div>
            </div>
            
            <!-- Service Routing Section -->
            <div class="card service-routing-card">
                <div class="service-routing-header">
                    <div class="service-routing-title">
                        <h3>‚áÑ –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤</h3>
                        <span class="service-routing-desc">–í—ã–±–µ—Ä–∏—Ç–µ —á–µ—Ä–µ–∑ –∫–∞–∫–æ–π —Å–µ—Ä–≤–µ—Ä –∏–¥—ë—Ç –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å</span>
                    </div>
                    <button class="btn btn-sm" onclick="resetAllRoutes()" title="–°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –º–∞—Ä—à—Ä—É—Ç—ã">‚Ü∫ –°–±—Ä–æ—Å–∏—Ç—å</button>
                </div>
                
                <!-- Warning if only 1 tunnel -->
                <div class="routing-warning" id="routing-warning" style="display: none;">
                    <span class="warning-icon">‚ö†</span>
                    <span>–î–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –Ω—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º 2 —Å–µ—Ä–≤–µ—Ä–∞. –°–µ–π—á–∞—Å –≤–µ—Å—å —Ç—Ä–∞—Ñ–∏–∫ –∏–¥—ë—Ç —á–µ—Ä–µ–∑ –æ–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä.</span>
                </div>
                
                <!-- Default route -->
                <div class="default-route-row">
                    <div class="default-route-label">
                        <span class="route-icon">üåê</span>
                        <div>
                            <strong>–û—Å—Ç–∞–ª—å–Ω–æ–π —Ç—Ä–∞—Ñ–∏–∫</strong>
                            <span class="route-hint">–°–µ—Ä–≤–∏—Å—ã –±–µ–∑ –ø—Ä–∞–≤–∏–ª</span>
                        </div>
                    </div>
                    <select id="routing-default-outbound" onchange="setRoutingDefault()">
                        <option value="">–ó–∞–≥—Ä—É–∑–∫–∞...</option>
                    </select>
                </div>
                
                <!-- Services list with routing -->
                <div class="service-routes-list" id="service-routes-list">
                    <div class="loading-state">–ó–∞–≥—Ä—É–∑–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤...</div>
                </div>
                
                <!-- Apply button -->
                <div class="routing-actions">
                    <button class="btn btn-primary" onclick="applyServiceRoutes()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç—ã</button>
                </div>
            </div>
        </section>
        
        <!-- Logs Modal -->
        <div class="modal" id="logs-modal">
            <div class="modal-content modal-logs">
                <div class="modal-header">
                    <h3>–õ–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–æ–≤</h3>
                    <button class="modal-close" onclick="closeLogsModal()">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="logs-tabs">
                        <button class="log-tab active" data-log="pinpoint" onclick="switchLogTab('pinpoint')">PinPoint</button>
                        <button class="log-tab" data-log="singbox" onclick="switchLogTab('singbox')">sing-box</button>
                        <button class="log-tab" data-log="system" onclick="switchLogTab('system')">–°–∏—Å—Ç–µ–º–∞</button>
                        <button class="btn btn-sm btn-secondary" onclick="loadServiceLogs()" style="margin-left: auto;">–û–±–Ω–æ–≤–∏—Ç—å</button>
                    </div>
                    <pre class="logs-output" id="modal-logs-output">–ó–∞–≥—Ä—É–∑–∫–∞...</pre>
                </div>
            </div>
        </div>
        
        <!-- Tunnel Modal -->
        <div class="modal" id="tunnel-modal">
            <div class="modal-content modal-wide">
                <div class="modal-header">
                    <h3 id="tunnel-modal-title">–î–æ–±–∞–≤–∏—Ç—å —Ç—É–Ω–Ω–µ–ª—å</h3>
                    <button class="modal-close" onclick="closeTunnelModal()">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-row">
                        <div class="form-group">
                            <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                            <input type="text" id="tunnel-name" placeholder="–ú–æ–π —Å–µ—Ä–≤–µ—Ä">
                        </div>
                        <div class="form-group">
                            <label>–ü—Ä–æ—Ç–æ–∫–æ–ª</label>
                            <select id="tunnel-type" onchange="updateTunnelForm()">
                                <option value="vless">VLESS</option>
                                <option value="vmess">VMess</option>
                                <option value="shadowsocks">Shadowsocks</option>
                                <option value="trojan">Trojan</option>
                                <option value="hysteria2">Hysteria2</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group flex-2">
                            <label>–°–µ—Ä–≤–µ—Ä</label>
                            <input type="text" id="tunnel-server" placeholder="example.com">
                        </div>
                        <div class="form-group">
                            <label>–ü–æ—Ä—Ç</label>
                            <input type="number" id="tunnel-port" value="443">
                        </div>
                    </div>
                    
                    <!-- Protocol-specific settings -->
                    <div id="tunnel-vless-settings" class="protocol-settings">
                        <div class="form-group">
                            <label>UUID</label>
                            <input type="text" id="tunnel-uuid" placeholder="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx">
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Flow</label>
                                <select id="tunnel-flow">
                                    <option value="">–ù–µ—Ç</option>
                                    <option value="xtls-rprx-vision">xtls-rprx-vision</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</label>
                                <select id="tunnel-security" onchange="updateTlsForm()">
                                    <option value="none">–ù–µ—Ç</option>
                                    <option value="tls">TLS</option>
                                    <option value="reality">Reality</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div id="tunnel-vmess-settings" class="protocol-settings" style="display: none;">
                        <div class="form-group">
                            <label>UUID</label>
                            <input type="text" id="tunnel-vmess-uuid" placeholder="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx">
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Alter ID</label>
                                <input type="number" id="tunnel-alterid" value="0">
                            </div>
                            <div class="form-group">
                                <label>–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ</label>
                                <select id="tunnel-vmess-security">
                                    <option value="auto">auto</option>
                                    <option value="aes-128-gcm">aes-128-gcm</option>
                                    <option value="chacha20-poly1305">chacha20-poly1305</option>
                                    <option value="none">none</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div id="tunnel-ss-settings" class="protocol-settings" style="display: none;">
                        <div class="form-row">
                            <div class="form-group">
                                <label>–ú–µ—Ç–æ–¥</label>
                                <select id="tunnel-ss-method">
                                    <option value="2022-blake3-aes-128-gcm">2022-blake3-aes-128-gcm</option>
                                    <option value="2022-blake3-aes-256-gcm">2022-blake3-aes-256-gcm</option>
                                    <option value="2022-blake3-chacha20-poly1305">2022-blake3-chacha20-poly1305</option>
                                    <option value="aes-128-gcm">aes-128-gcm</option>
                                    <option value="aes-256-gcm">aes-256-gcm</option>
                                    <option value="chacha20-ietf-poly1305">chacha20-ietf-poly1305</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>–ü–∞—Ä–æ–ª—å</label>
                                <input type="text" id="tunnel-ss-password" placeholder="password">
                            </div>
                        </div>
                    </div>
                    
                    <div id="tunnel-trojan-settings" class="protocol-settings" style="display: none;">
                        <div class="form-group">
                            <label>–ü–∞—Ä–æ–ª—å</label>
                            <input type="text" id="tunnel-trojan-password" placeholder="password">
                        </div>
                    </div>
                    
                    <div id="tunnel-hysteria2-settings" class="protocol-settings" style="display: none;">
                        <div class="form-group">
                            <label>–ü–∞—Ä–æ–ª—å</label>
                            <input type="text" id="tunnel-hy2-password" placeholder="password">
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Obfs —Ç–∏–ø</label>
                                <input type="text" id="tunnel-hy2-obfs" placeholder="salamander">
                            </div>
                            <div class="form-group">
                                <label>Obfs –ø–∞—Ä–æ–ª—å</label>
                                <input type="text" id="tunnel-hy2-obfs-password" placeholder="">
                            </div>
                        </div>
                    </div>
                    
                    <!-- TLS Settings -->
                    <div id="tls-settings" class="tls-section" style="display: none;">
                        <h4>TLS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label>SNI</label>
                                <input type="text" id="tunnel-sni" placeholder="google.com">
                            </div>
                            <div class="form-group">
                                <label>Fingerprint</label>
                                <select id="tunnel-fingerprint">
                                    <option value="chrome">chrome</option>
                                    <option value="firefox">firefox</option>
                                    <option value="safari">safari</option>
                                    <option value="edge">edge</option>
                                </select>
                            </div>
                        </div>
                        <div id="reality-settings" style="display: none;">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Public Key</label>
                                    <input type="text" id="tunnel-pbk" placeholder="Public key">
                                </div>
                                <div class="form-group">
                                    <label>Short ID</label>
                                    <input type="text" id="tunnel-sid" placeholder="">
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Transport Settings -->
                    <div class="transport-section">
                        <h4>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label>–¢–∏–ø</label>
                                <select id="tunnel-transport" onchange="updateTransportForm()">
                                    <option value="tcp">TCP</option>
                                    <option value="ws">WebSocket</option>
                                    <option value="grpc">gRPC</option>
                                </select>
                            </div>
                        </div>
                        <div id="ws-settings" style="display: none;">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Path</label>
                                    <input type="text" id="tunnel-ws-path" placeholder="/">
                                </div>
                                <div class="form-group">
                                    <label>Host</label>
                                    <input type="text" id="tunnel-ws-host" placeholder="">
                                </div>
                            </div>
                        </div>
                        <div id="grpc-settings" style="display: none;">
                            <div class="form-group">
                                <label>Service Name</label>
                                <input type="text" id="tunnel-grpc-service" placeholder="">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" onclick="closeTunnelModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button class="btn btn-danger" id="delete-tunnel-btn" style="display: none;" onclick="deleteCurrentTunnel()">–£–¥–∞–ª–∏—Ç—å</button>
                    <button class="btn btn-primary" onclick="saveTunnel()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </div>
        </div>
        
        <!-- Group Modal -->
        <div class="modal" id="group-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="group-modal-title">–°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É</h3>
                    <button class="modal-close" onclick="closeGroupModal()">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                        <input type="text" id="group-name" placeholder="–ê–≤—Ç–æ-–≤—ã–±–æ—Ä">
                    </div>
                    <div class="form-group">
                        <label>–¢–∏–ø</label>
                        <select id="group-type">
                            <option value="urltest">URL Test (–≤—ã–±–æ—Ä –ø–æ –∑–∞–¥–µ—Ä–∂–∫–µ)</option>
                            <option value="fallback">Fallback (—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ)</option>
                        </select>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>–ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏</label>
                            <input type="text" id="group-interval" value="5m" placeholder="5m">
                        </div>
                        <div class="form-group">
                            <label>–î–æ–ø—É—Å–∫ (–º—Å)</label>
                            <input type="number" id="group-tolerance" value="50">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>–°–µ—Ä–≤–µ—Ä—ã –≤ –≥—Ä—É–ø–ø–µ</label>
                        <div class="group-tunnels-selector" id="group-tunnels-selector">
                            <!-- Checkboxes will be generated -->
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" onclick="closeGroupModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button class="btn btn-danger" id="delete-group-btn" style="display: none;" onclick="deleteCurrentGroup()">–£–¥–∞–ª–∏—Ç—å</button>
                    <button class="btn btn-primary" onclick="saveGroup()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </div>
        </div>
        
        <!-- Change Password Modal -->
        <div class="modal" id="change-password-modal">
            <div class="modal-content modal-sm">
                <div class="modal-header">
                    <h3>–°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</h3>
                    <button class="modal-close" onclick="closeChangePasswordModal()">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label>–¢–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å</label>
                        <input type="password" id="current-password" autocomplete="current-password">
                    </div>
                    <div class="form-group">
                        <label>–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
                        <input type="password" id="new-password" autocomplete="new-password">
                    </div>
                    <div class="form-group">
                        <label>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
                        <input type="password" id="confirm-password" autocomplete="new-password">
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" onclick="closeChangePasswordModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button class="btn btn-primary" onclick="changePassword()">–°–º–µ–Ω–∏—Ç—å</button>
                </div>
            </div>
        </div>

        <!-- Settings Tab -->
        <section id="settings" class="tab-content">
            <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
            
            <div class="settings-layout">
                <!-- Left column -->
                <div class="settings-column">
                    <!-- Service Control -->
                    <div class="settings-card service-control-card">
                        <div class="settings-card-header">
                            <span class="settings-icon">‚ö°</span>
                            <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–º</h3>
                        </div>
                        <div class="settings-card-body">
                            <div class="setting-row">
                                <span class="setting-label">PinPoint</span>
                                <div class="service-status" id="pinpoint-service-status">
                                    <span class="status-indicator running"></span>
                                    <span class="status-text">–ü—Ä–æ–≤–µ—Ä–∫–∞...</span>
                                </div>
                            </div>
                            <div class="setting-row">
                                <span class="setting-label">sing-box</span>
                                <div class="service-status" id="singbox-service-status">
                                    <span class="status-indicator"></span>
                                    <span class="status-text">–ü—Ä–æ–≤–µ—Ä–∫–∞...</span>
                                </div>
                            </div>
                            <div class="service-actions">
                                <button class="btn btn-success" onclick="startAllServices()">
                                    <span>‚ñ∂</span> –ó–∞–ø—É—Å—Ç–∏—Ç—å
                                </button>
                                <button class="btn btn-danger" onclick="stopAllServices()">
                                    <span>‚ñ†</span> –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
                                </button>
                                <button class="btn btn-secondary" onclick="restartAllServices()">
                                    <span>‚Üª</span> –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
                                </button>
                            </div>
                            <div class="service-logs-section">
                                <div class="service-logs-header">
                                    <span>–õ–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–æ–≤</span>
                                    <button class="btn btn-sm btn-secondary" onclick="loadServiceLogs()">–û–±–Ω–æ–≤–∏—Ç—å</button>
                                </div>
                                <div class="service-logs-tabs">
                                    <button class="log-tab active" data-log="pinpoint" onclick="switchLogTab('pinpoint')">PinPoint</button>
                                    <button class="log-tab" data-log="singbox" onclick="switchLogTab('singbox')">sing-box</button>
                                    <button class="log-tab" data-log="system" onclick="switchLogTab('system')">–°–∏—Å—Ç–µ–º–∞</button>
                                </div>
                                <pre class="service-logs-output" id="service-logs-output">–ù–∞–∂–º–∏—Ç–µ "–û–±–Ω–æ–≤–∏—Ç—å" –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ª–æ–≥–æ–≤...</pre>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Auto Update -->
                    <div class="settings-card">
                        <div class="settings-card-header">
                            <span class="settings-icon">‚Üª</span>
                            <h3>–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ</h3>
                        </div>
                        <div class="settings-card-body">
                            <div class="setting-row">
                                <span class="setting-label">–í—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–æ–≤</span>
                                <div class="setting-control">
                                    <input type="text" id="settings-auto-update-time" value="05:00" class="input-time" maxlength="5">
                                    <button class="btn btn-sm btn-primary" onclick="saveAutoUpdateTimeSetting()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Security / Auth -->
                    <div class="settings-card">
                        <div class="settings-card-header">
                            <span class="settings-icon">üîí</span>
                            <h3>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h3>
                        </div>
                        <div class="settings-card-body">
                            <div class="setting-row">
                                <span class="setting-label">–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</span>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="auth-enabled" onchange="toggleAuthEnabled()">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="setting-row">
                                <span class="setting-label">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>
                                <span class="setting-value" id="auth-username">admin</span>
                            </div>
                            <div class="setting-row">
                                <span class="setting-label">–°–µ—Å—Å–∏—è</span>
                                <div class="setting-control">
                                    <select id="auth-session-hours" onchange="updateSessionHours()">
                                        <option value="1">1 —á–∞—Å</option>
                                        <option value="6">6 —á–∞—Å–æ–≤</option>
                                        <option value="12">12 —á–∞—Å–æ–≤</option>
                                        <option value="24" selected>24 —á–∞—Å–∞</option>
                                        <option value="72">3 –¥–Ω—è</option>
                                        <option value="168">7 –¥–Ω–µ–π</option>
                                        <option value="720">30 –¥–Ω–µ–π</option>
                                    </select>
                                </div>
                            </div>
                            <div class="setting-actions">
                                <button class="btn btn-sm btn-secondary" onclick="openChangePasswordModal()">–°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ad Blocking -->
                    <div class="settings-card">
                        <div class="settings-card-header">
                            <span class="settings-icon">‚óá</span>
                            <h3>–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ä–µ–∫–ª–∞–º—ã</h3>
                        </div>
                        <div class="settings-card-body">
                            <div class="setting-row">
                                <span class="setting-label">–°—Ç–∞—Ç—É—Å</span>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="adblock-enabled" onchange="toggleAdblock()">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="setting-stats">
                                <div class="stat-item">
                                    <span class="stat-label">–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ</span>
                                    <span class="stat-value" id="adblock-count">‚Äî</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">–û–±–Ω–æ–≤–ª–µ–Ω–æ</span>
                                    <span class="stat-value" id="adblock-update">‚Äî</span>
                                </div>
                            </div>
                            <div class="setting-actions">
                                <button class="btn btn-sm btn-secondary" onclick="testRandomAdblock()">–¢–µ—Å—Ç</button>
                                <button class="btn btn-sm btn-secondary" onclick="updateAdblock()">–û–±–Ω–æ–≤–∏—Ç—å</button>
                            </div>
                            <div id="adblock-test-result" class="test-result"></div>
                        </div>
                    </div>
                    
                    <!-- Split DNS -->
                    <div class="settings-card">
                        <div class="settings-card-header">
                            <span class="settings-icon">‚äï</span>
                            <h3>Split DNS</h3>
                        </div>
                        <div class="settings-card-body">
                            <p class="setting-desc">DNS –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –¥–æ–º–µ–Ω–æ–≤ –Ω–∞ –¥—Ä—É–≥–∏–µ —Å–µ—Ä–≤–µ—Ä—ã</p>
                            <div class="split-dns-list" id="split-dns-list"></div>
                            <div class="add-form-row">
                                <input type="text" id="split-dns-domain" placeholder="domain.com">
                                <input type="text" id="split-dns-server" placeholder="8.8.8.8">
                                <button class="btn btn-sm btn-primary" onclick="addSplitDns()">+</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Right column -->
                <div class="settings-column">
                    <!-- Telegram Bot -->
                    <div class="settings-card">
                        <div class="settings-card-header">
                            <span class="settings-icon">‚ñ∑</span>
                            <h3>Telegram</h3>
                        </div>
                        <div class="settings-card-body">
                            <div class="form-group">
                                <label>Bot Token</label>
                                <input type="password" id="telegram-token" placeholder="123456:ABC-DEF...">
                            </div>
                            <div class="form-group">
                                <label>Chat ID</label>
                                <input type="text" id="telegram-chat-id" placeholder="123456789">
                            </div>
                            <div class="setting-row">
                                <span class="setting-label">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</span>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="telegram-enabled">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="setting-actions">
                                <button class="btn btn-sm btn-secondary" onclick="testTelegram()">–¢–µ—Å—Ç</button>
                                <button class="btn btn-sm btn-primary" onclick="saveTelegram()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Import/Export -->
                    <div class="settings-card">
                        <div class="settings-card-header">
                            <span class="settings-icon">‚áÑ</span>
                            <h3>–†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è</h3>
                        </div>
                        <div class="settings-card-body">
                            <p class="setting-desc">–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–ª–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é</p>
                            <div class="setting-actions vertical">
                                <button class="btn btn-secondary" onclick="exportConfig()">üì§ –≠–∫—Å–ø–æ—Ä—Ç</button>
                                <label class="btn btn-secondary">
                                    üì• –ò–º–ø–æ—Ä—Ç
                                    <input type="file" id="import-file" accept=".json" onchange="importConfig(event)" hidden>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Dependencies - full width -->
            <div class="settings-card dependencies-card">
                <div class="settings-card-header">
                    <span class="settings-icon">‚¨°</span>
                    <h3>–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</h3>
                    <div class="dep-header-actions">
                        <span class="dep-status-badge" id="dep-status-badge">–ü—Ä–æ–≤–µ—Ä–∫–∞...</span>
                        <button class="btn btn-sm btn-secondary" onclick="loadDependencies()">–û–±–Ω–æ–≤–∏—Ç—å</button>
                        <button class="btn btn-sm btn-primary" onclick="installAllDependencies()" id="btn-install-all" style="display:none;">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ</button>
                    </div>
                </div>
                <div class="dependencies-content">
                    <div class="dep-summary" id="dep-summary">
                        <div class="dep-stat">
                            <span class="dep-stat-value" id="dep-installed">‚Äî</span>
                            <span class="dep-stat-label">–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ</span>
                        </div>
                        <div class="dep-stat">
                            <span class="dep-stat-value" id="dep-missing">‚Äî</span>
                            <span class="dep-stat-label">–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç</span>
                        </div>
                        <div class="dep-stat">
                            <span class="dep-stat-value" id="dep-total">‚Äî</span>
                            <span class="dep-stat-label">–í—Å–µ–≥–æ</span>
                        </div>
                    </div>
                    
                    <div class="dep-categories">
                        <!-- System Dependencies -->
                        <div class="dep-category">
                            <h4>–°–∏—Å—Ç–µ–º–Ω—ã–µ –ø–∞–∫–µ—Ç—ã (opkg)</h4>
                            <div class="dep-list" id="dep-system-list">
                                <div class="dep-loading">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                            </div>
                        </div>
                        
                        <!-- Python Dependencies -->
                        <div class="dep-category">
                            <h4>Python –ø–∞–∫–µ—Ç—ã (pip)</h4>
                            <div class="dep-list" id="dep-python-list">
                                <div class="dep-loading">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="dep-service-section">
                        <h4>–°–ª—É–∂–±–∞ PinPoint</h4>
                        <div class="dep-service-status" id="dep-service-status">
                            <span class="service-badge" id="service-badge">–ü—Ä–æ–≤–µ—Ä–∫–∞...</span>
                        </div>
                        <div class="dep-service-actions">
                            <button class="btn btn-sm btn-primary" id="btn-service-enable" onclick="setupPinpointService()" style="display:none;">–í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫</button>
                            <button class="btn btn-sm btn-danger" id="btn-service-disable" onclick="disablePinpointService()" style="display:none;">–û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫</button>
                        </div>
                    </div>
                    
                    <div class="dep-actions">
                        <button class="btn btn-secondary" onclick="showOpkgInfo()">üì¶ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è opkg</button>
                    </div>
                </div>
            </div>
            
            <!-- Logs - full width -->
            <div class="settings-card logs-card">
                <div class="settings-card-header">
                    <span class="settings-icon">‚â°</span>
                    <h3>–õ–æ–≥–∏</h3>
                    <button class="btn btn-sm btn-secondary" onclick="loadLogs()">–û–±–Ω–æ–≤–∏—Ç—å</button>
                </div>
                <div class="logs-container" id="logs-container">
                    <pre id="logs-content">–ó–∞–≥—Ä—É–∑–∫–∞...</pre>
                </div>
            </div>
        </section>

        <!-- Help / Documentation -->
        <section id="help" class="tab-content">
            <div class="help-container">
                <div class="help-hero">
                    <h1>üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ PinPoint!</h1>
                    <p>–ü—Ä–æ—Å—Ç–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ VPN-–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π –Ω–∞ –≤–∞—à–µ–º —Ä–æ—É—Ç–µ—Ä–µ</p>
                </div>

                <div class="help-cards">
                    <!-- Quick Start -->
                    <div class="help-card help-card-primary">
                        <div class="help-card-icon">üöÄ</div>
                        <h2>–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</h2>
                        <div class="help-steps">
                            <div class="help-step">
                                <span class="step-num">1</span>
                                <div>
                                    <strong>–î–æ–±–∞–≤—å—Ç–µ VPN-—Å–µ—Ä–≤–µ—Ä</strong>
                                    <p>–û—Ç–∫—Ä–æ–π—Ç–µ <a href="#tunnels">–¢—É–Ω–Ω–µ–ª–∏</a> ‚Üí –Ω–∞–∂–º–∏—Ç–µ "+ –î–æ–±–∞–≤–∏—Ç—å" ‚Üí –≤—Å—Ç–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –∏–ª–∏ –ø–æ–¥–ø–∏—Å–∫—É –æ—Ç –≤–∞—à–µ–≥–æ VPN-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞</p>
                                </div>
                            </div>
                            <div class="help-step">
                                <span class="step-num">2</span>
                                <div>
                                    <strong>–í–∫–ª—é—á–∏—Ç–µ –Ω—É–∂–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã</strong>
                                    <p>–û—Ç–∫—Ä–æ–π—Ç–µ <a href="#services">–°–µ—Ä–≤–∏—Å—ã</a> ‚Üí –≤–∫–ª—é—á–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã, —Ç—Ä–∞—Ñ–∏–∫ –∫–æ—Ç–æ—Ä—ã—Ö –¥–æ–ª–∂–µ–Ω –∏–¥—Ç–∏ —á–µ—Ä–µ–∑ VPN (YouTube, Netflix –∏ –¥—Ä.)</p>
                                </div>
                            </div>
                            <div class="help-step">
                                <span class="step-num">3</span>
                                <div>
                                    <strong>–ì–æ—Ç–æ–≤–æ!</strong>
                                    <p>–¢—Ä–∞—Ñ–∏–∫ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–π–¥—ë—Ç —á–µ—Ä–µ–∑ VPN. –í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ ‚Äî –Ω–∞–ø—Ä—è–º—É—é.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- What is PinPoint -->
                    <div class="help-card">
                        <div class="help-card-icon">‚ùì</div>
                        <h2>–ß—Ç–æ —Ç–∞–∫–æ–µ PinPoint?</h2>
                        <p>PinPoint –ø–æ–∑–≤–æ–ª—è–µ—Ç <strong>–≤—ã–±–æ—Ä–æ—á–Ω–æ –Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å —Ç—Ä–∞—Ñ–∏–∫</strong> —á–µ—Ä–µ–∑ VPN.</p>
                        <p>–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ: YouTube –∏ Netflix –∏–¥—É—Ç —á–µ—Ä–µ–∑ VPN (—á—Ç–æ–±—ã –æ–±–æ–π—Ç–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏), –∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–∞–π—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞–ø—Ä—è–º—É—é (–±—ã—Å—Ç—Ä–µ–µ –∏ –±–µ–∑ –ª–∏—à–Ω–µ–π –Ω–∞–≥—Ä—É–∑–∫–∏).</p>
                        <div class="help-diagram">
                            <div class="diagram-item">
                                <span>üì± –í–∞—à–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</span>
                            </div>
                            <div class="diagram-arrow">‚Üì</div>
                            <div class="diagram-item highlight">
                                <span>üåê –†–æ—É—Ç–µ—Ä + PinPoint</span>
                            </div>
                            <div class="diagram-split">
                                <div class="diagram-branch">
                                    <div class="diagram-arrow">‚Üô</div>
                                    <div class="diagram-item vpn">üîí VPN<br><small>YouTube, Netflix</small></div>
                                </div>
                                <div class="diagram-branch">
                                    <div class="diagram-arrow">‚Üò</div>
                                    <div class="diagram-item direct">‚ö° –ù–∞–ø—Ä—è–º—É—é<br><small>–í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ</small></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="help-cards">
                    <!-- Tabs explanation -->
                    <div class="help-card">
                        <div class="help-card-icon">üìë</div>
                        <h2>–†–∞–∑–¥–µ–ª—ã –º–µ–Ω—é</h2>
                        <div class="help-menu-list">
                            <div class="help-menu-item">
                                <span class="menu-icon">‚óâ</span>
                                <div>
                                    <strong>–ì–ª–∞–≤–Ω–∞—è</strong>
                                    <p>–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã, –≥—Ä–∞—Ñ–∏–∫–∏ –Ω–∞–≥—Ä—É–∑–∫–∏ –∏ —Ç—Ä–∞—Ñ–∏–∫–∞</p>
                                </div>
                            </div>
                            <div class="help-menu-item">
                                <span class="menu-icon">‚óé</span>
                                <div>
                                    <strong>–°–µ—Ä–≤–∏—Å—ã</strong>
                                    <p>–í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ –≥–æ—Ç–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (YouTube, Netflix, Spotify –∏ –¥—Ä.)</p>
                                </div>
                            </div>
                            <div class="help-menu-item">
                                <span class="menu-icon">‚ñ£</span>
                                <div>
                                    <strong>–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</strong>
                                    <p>–°–ø–∏—Å–æ–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –≤ —Å–µ—Ç–∏. –ú–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å VPN –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤.</p>
                                </div>
                            </div>
                            <div class="help-menu-item">
                                <span class="menu-icon">‚â°</span>
                                <div>
                                    <strong>–ü—Ä–∞–≤–∏–ª–∞</strong>
                                    <p>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–∏—Ö –¥–æ–º–µ–Ω–æ–≤ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤</p>
                                </div>
                            </div>
                            <div class="help-menu-item">
                                <span class="menu-icon">‚óà</span>
                                <div>
                                    <strong>–¢—É–Ω–Ω–µ–ª–∏</strong>
                                    <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ VPN-—Å–µ—Ä–≤–µ—Ä–∞–º–∏, –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π</p>
                                </div>
                            </div>
                            <div class="help-menu-item">
                                <span class="menu-icon">‚óã</span>
                                <div>
                                    <strong>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</strong>
                                    <p>–û–±–Ω–æ–≤–ª–µ–Ω–∏—è, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ä–µ–∫–ª–∞–º—ã, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- FAQ -->
                    <div class="help-card">
                        <div class="help-card-icon">üí°</div>
                        <h2>–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h2>
                        <div class="faq-list">
                            <details class="faq-item">
                                <summary>–ì–¥–µ –≤–∑—è—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ VPN?</summary>
                                <p>–í–∞—à VPN-–ø—Ä–æ–≤–∞–π–¥–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, Outline, VLESS, Shadowsocks) –¥–∞—ë—Ç —Å—Å—ã–ª–∫—É –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è. –û–±—ã—á–Ω–æ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ <code>vless://...</code> –∏–ª–∏ <code>ss://...</code>. –ü—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ—ë –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ PinPoint.</p>
                            </details>
                            <details class="faq-item">
                                <summary>–ß—Ç–æ —Ç–∞–∫–æ–µ –ø–æ–¥–ø–∏—Å–∫–∞?</summary>
                                <p>–ü–æ–¥–ø–∏—Å–∫–∞ ‚Äî —ç—Ç–æ —Å—Å—ã–ª–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤. PinPoint —Å–∞–º —Å–∫–∞—á–∞–µ—Ç –∏ –¥–æ–±–∞–≤–∏—Ç –≤—Å–µ —Å–µ—Ä–≤–µ—Ä—ã. –£–¥–æ–±–Ω–æ, –µ—Å–ª–∏ —É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –º–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–æ–≤.</p>
                            </details>
                            <details class="faq-item">
                                <summary>–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–π –¥–æ–º–µ–Ω?</summary>
                                <p>–î–∞! –û—Ç–∫—Ä–æ–π—Ç–µ <a href="#domains">–ü—Ä–∞–≤–∏–ª–∞</a> ‚Üí "–î–æ–±–∞–≤–∏—Ç—å –¥–æ–º–µ–Ω" –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π —Å–µ—Ä–≤–∏—Å –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥–æ–º–µ–Ω–æ–≤.</p>
                            </details>
                            <details class="faq-item">
                                <summary>–ö–∞–∫ –Ω–∞–ø—Ä–∞–≤–∏—Ç—å —Ä–∞–∑–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã —á–µ—Ä–µ–∑ —Ä–∞–∑–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã?</summary>
                                <p>–î–æ–±–∞–≤—å—Ç–µ 2+ —Å–µ—Ä–≤–µ—Ä–∞ –≤ <a href="#tunnels">–¢—É–Ω–Ω–µ–ª–∏</a>. –í–Ω–∏–∑—É –ø–æ—è–≤–∏—Ç—Å—è "–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤" ‚Äî —Ç–∞–º –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å, –∫–∞–∫–æ–π —Å–µ—Ä–≤–∏—Å —á–µ—Ä–µ–∑ –∫–∞–∫–æ–π —Å–µ—Ä–≤–µ—Ä –∏–¥—ë—Ç.</p>
                            </details>
                            <details class="faq-item">
                                <summary>VPN –∑–∞–º–µ–¥–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç?</summary>
                                <p>–ù–µ–º–Ω–æ–≥–æ, –Ω–æ PinPoint –Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç —á–µ—Ä–µ–∑ VPN —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫. –û—Å—Ç–∞–ª—å–Ω–æ–µ –∏–¥—ë—Ç –Ω–∞–ø—Ä—è–º—É—é –Ω–∞ –ø–æ–ª–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏.</p>
                            </details>
                            <details class="faq-item">
                                <summary>–ö–∞–∫ –æ—Ç–∫–ª—é—á–∏—Ç—å VPN –¥–ª—è —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–∞?</summary>
                                <p>–û—Ç–∫—Ä–æ–π—Ç–µ <a href="#devices">–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</a> ‚Üí –Ω–∞–π–¥–∏—Ç–µ —Ç–µ–ª–µ–≤–∏–∑–æ—Ä ‚Üí –Ω–∞–∂–º–∏—Ç–µ "–ò—Å–∫–ª—é—á–∏—Ç—å". –ï–≥–æ —Ç—Ä–∞—Ñ–∏–∫ –±—É–¥–µ—Ç –∏–¥—Ç–∏ –Ω–∞–ø—Ä—è–º—É—é.</p>
                            </details>
                        </div>
                    </div>
                </div>

                <div class="help-cards">
                    <!-- Glossary -->
                    <div class="help-card help-card-wide">
                        <div class="help-card-icon">üìñ</div>
                        <h2>–°–ª–æ–≤–∞—Ä—å —Ç–µ—Ä–º–∏–Ω–æ–≤</h2>
                        <div class="glossary-grid">
                            <div class="glossary-item">
                                <strong>VPN</strong>
                                <p>–í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —á–∞—Å—Ç–Ω–∞—è —Å–µ—Ç—å. –®–∏—Ñ—Ä—É–µ—Ç —Ç—Ä–∞—Ñ–∏–∫ –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—Ö–æ–¥–∏—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏.</p>
                            </div>
                            <div class="glossary-item">
                                <strong>–¢—É–Ω–Ω–µ–ª—å</strong>
                                <p>–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ VPN-—Å–µ—Ä–≤–µ—Ä—É. –û–¥–∏–Ω —Ç—É–Ω–Ω–µ–ª—å = –æ–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä.</p>
                            </div>
                            <div class="glossary-item">
                                <strong>–ü–æ–¥–ø–∏—Å–∫–∞</strong>
                                <p>–°—Å—ã–ª–∫–∞ —Å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª—è–µ–º—ã–º —Å–ø–∏—Å–∫–æ–º —Å–µ—Ä–≤–µ—Ä–æ–≤ –æ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞.</p>
                            </div>
                            <div class="glossary-item">
                                <strong>–°–µ—Ä–≤–∏—Å</strong>
                                <p>–ù–∞–±–æ—Ä –¥–æ–º–µ–Ω–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, YouTube = youtube.com + googlevideo.com + ytimg.com).</p>
                            </div>
                            <div class="glossary-item">
                                <strong>–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è</strong>
                                <p>–ü—Ä–∞–≤–∏–ª–∞, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–µ –∫—É–¥–∞ –Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å —Ç—Ä–∞—Ñ–∏–∫ ‚Äî —á–µ—Ä–µ–∑ VPN –∏–ª–∏ –Ω–∞–ø—Ä—è–º—É—é.</p>
                            </div>
                            <div class="glossary-item">
                                <strong>sing-box</strong>
                                <p>–î–≤–∏–∂–æ–∫ VPN, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç "–ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º". PinPoint —É–ø—Ä–∞–≤–ª—è–µ—Ç –∏–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="help-footer">
                    <p>–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å? –°–æ–∑–¥–∞–π—Ç–µ issue –Ω–∞ <a href="https://github.com" target="_blank">GitHub</a></p>
                </div>
            </div>
        </section>

            <footer>
                <p>PinPoint v1.1 | <a href="/docs" target="_blank">API</a> | <a href="#" onclick="showAbout()">–û –ø—Ä–æ–≥—Ä–∞–º–º–µ</a></p>
            </footer>
        </div>
    </div>

    <div class="toast" id="toast"></div>

    <div class="loading-overlay" id="loading-overlay">
        <div class="spinner"></div>
        <div class="loading-text" id="loading-text">–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ...</div>
        <div class="loading-subtext" id="loading-subtext">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ</div>
    </div>

    <!-- Chart.js for traffic graphs -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <script src="/js/app.js?v=6"></script>
</body>
</html>
